<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" href="../static/styles/header.css">
    <link rel="stylesheet" href="../static/styles/footer.css">
    <link rel="stylesheet" href="../static/styles/market.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="../static/scripts/highlight_percent_val.js"></script>
    <script>
      let apiKey = "{{ api_key }}";
    </script>
    <title>KryptoSide</title>
  </head>
  <body>
    <header>
      <img src="../static/images/KryptoSide_Logo.png" alt="">
      <nav>
        <form action="{{ url_for('redirect_to_index') }}" method="get">
          <button type="submit">Home</button>
        </form>
        <form action="{{ url_for('redirect_to_market') }}" method="get">
          <button type="submit">Market Stats</button>
        </form>
        <form action="{{ url_for('redirect_to_coin') }}" method="get">
          <button type="submit">Coin Stats</button>
        </form>
      </nav>
      <button id="conact">Contact</button>
    </header>
    <section id="cryptoSummary">
      <table>
        <caption id="table_caption">Cryptocurrency Prices by Market Capitalization</caption>
        <thead>
          <tr id="heading">
            <th>Rank</th>
            <th>Coin</th>
            <th>Price</th>
            <th>1h</th>
            <th>24h</th>
            <th>7d</th>
            <th>30d</th>
            <th>1y</th>
            <th>24h Volume</th>
            <th>Market Cap</th>
          </tr>
        </thead>
        <tbody>
          {% for record in records %}
          <tr>
            <td>{{ record.market_cap_rank }}</td>
            <td id="table_name_field"><img src="{{ record.image }}" alt="coin image" id="coin_img"> {{ record.name }}<span id="coin_symbol"> {{ record.symbol }}</span></td>
            <td>{{ record.current_price }}</td>
            <td class="highlight">{{ record.price_change_percent_1h }}</td>
            <td class="highlight">{{ record.price_change_percent_24h }}</td>
            <td class="highlight">{{ record.price_change_percent_7d }}</td>
            <td class="highlight">{{ record.price_change_percent_30d }}</td>
            <td class="highlight">{{ record.price_change_percent_1y }}</td>
            <td>{{ record.total_volume }}</td>
            <td>{{ record.market_cap }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </section>
    <footer>
      <span>A place for dynamic crypto data</span>
      <span>2024</span>
      <span>Developed by Victor Anokwuru</span>
      <span>contact me @ vc.anokwuru@gmail.com</span>
    </footer>
  </body>
</html>